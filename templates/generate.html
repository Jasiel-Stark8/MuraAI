{% extends "base.html" %}

{% block content %}
<div class="relative z-0 flex h-full w-full overflow-hidden" x-data="chatBot()">
    <div class="hidden md:flex flex-shrink-0 overflow-x-hidden bg-primary-content text-base-content"
        style="width: 260px;">
        <div class="h-full w-[260px]">
            <div class="flex h-full min-h-0 flex-col">
                <div class="flex h-full min-h-0 flex-col transition-opacity opacity-100">
                    <div class="scrollbar-trigger relative h-full w-full flex-1 items-start border-white/20">

                        <nav class="flex h-full w-full flex-col px-3 pb-3.5">
                            <div class="flex-col flex-1 transition-opacity duration-500 -mr-2 pr-2 overflow-y-auto">
                                <div class="pt-3.5">
                                    <div class="pb-0.5 last:pb-0" tabindex="0"><a
                                            class="group flex items-center gap-2 rounded-lg px-2 font-medium hover:bg-token-surface-primary"
                                            href="/">
                                            <div class="flex flex-row gap-2 items-center p-2 mb-6">
                                                <img src="/static/images/Vector.png" alt="">
                                                <span class="font-bold text-3xl">Mura AI</span>
                                            </div>
                                        </a></div>
                                </div>
                                <div class="flex flex-col gap-2 pb-2  text-base-content text-sm">
                                    <div>
                                        <ul class="menu menu-lg min-h-full w-full text-base-content">

                                            <li>
                                                <a class="{{ 'active' if request.path == url_for('home') }}">
                                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                                        xmlns="http://www.w3.org/2000/svg">
                                                        <g id="majesticons:home">
                                                            <path id="Vector"
                                                                d="M20 19V10.5C20 10.3448 19.9639 10.1916 19.8944 10.0528C19.825 9.91393 19.7242 9.79315 19.6 9.7L12.6 4.45C12.4269 4.32018 12.2164 4.25 12 4.25C11.7836 4.25 11.5731 4.32018 11.4 4.45L4.4 9.7C4.2758 9.79315 4.175 9.91393 4.10557 10.0528C4.03614 10.1916 4 10.3448 4 10.5V19C4 19.2652 4.10536 19.5196 4.29289 19.7071C4.48043 19.8946 4.73478 20 5 20H9C9.26522 20 9.51957 19.8946 9.70711 19.7071C9.89464 19.5196 10 19.2652 10 19V16C10 15.7348 10.1054 15.4804 10.2929 15.2929C10.4804 15.1054 10.7348 15 11 15H13C13.2652 15 13.5196 15.1054 13.7071 15.2929C13.8946 15.4804 14 15.7348 14 16V19C14 19.2652 14.1054 19.5196 14.2929 19.7071C14.4804 19.8946 14.7348 20 15 20H19C19.2652 20 19.5196 19.8946 19.7071 19.7071C19.8946 19.5196 20 19.2652 20 19Z"
                                                                fill="currentColor" stroke="currentColor"
                                                                stroke-width="2" stroke-linecap="round"
                                                                stroke-linejoin="round" />
                                                        </g>
                                                    </svg>

                                                    Home
                                                </a>
                                            </li>
                                            <li>
                                                <a class="{{ 'active' if request.path == url_for('settings') }}">
                                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                                        xmlns="http://www.w3.org/2000/svg">
                                                        <path fill-rule="evenodd" clip-rule="evenodd"
                                                            d="M5.07922 5.06902C8.87422 1.27902 15.0442 1.31902 18.8622 5.13802C22.6822 8.95802 22.7222 15.131 18.9262 18.926C15.1312 22.721 8.95822 22.682 5.13822 18.862C4.06372 17.792 3.25187 16.4874 2.7664 15.0508C2.28093 13.6141 2.13505 12.0845 2.34022 10.582C2.36714 10.3848 2.47129 10.2064 2.62976 10.086C2.78823 9.96562 2.98803 9.9131 3.18522 9.94002C3.38241 9.96694 3.56083 10.0711 3.68123 10.2296C3.80163 10.388 3.85414 10.5878 3.82722 10.785C3.65306 12.0583 3.77653 13.3547 4.18793 14.5722C4.59933 15.7898 5.28745 16.8953 6.19822 17.802C9.44322 21.046 14.6662 21.065 17.8662 17.866C21.0652 14.666 21.0462 9.44302 17.8022 6.19802C14.5592 2.95602 9.33922 2.93502 6.13922 6.13002L6.88722 6.13302C6.98571 6.13348 7.08315 6.15334 7.17397 6.19145C7.26479 6.22957 7.34721 6.2852 7.41653 6.35517C7.48585 6.42514 7.54071 6.50807 7.57797 6.59924C7.61524 6.69041 7.63418 6.78803 7.63372 6.88652C7.63326 6.98501 7.61341 7.08245 7.57529 7.17327C7.53718 7.26409 7.48155 7.34651 7.41158 7.41583C7.34161 7.48515 7.25867 7.54 7.1675 7.57727C7.07633 7.61454 6.97871 7.63348 6.88022 7.63302L4.33422 7.62102C4.13652 7.61997 3.94724 7.5409 3.80753 7.40101C3.66783 7.26112 3.58901 7.07172 3.58822 6.87402L3.57522 4.33002C3.5747 4.23153 3.59358 4.1339 3.63078 4.0427C3.66799 3.95151 3.72279 3.86854 3.79206 3.79852C3.86134 3.7285 3.94372 3.67282 4.03452 3.63464C4.12531 3.59647 4.22273 3.57655 4.32122 3.57602C4.41971 3.5755 4.51735 3.59438 4.60854 3.63158C4.69974 3.66879 4.78271 3.72359 4.85273 3.79286C4.92274 3.86214 4.97843 3.94452 5.0166 4.03531C5.05478 4.12611 5.0747 4.22353 5.07522 4.32202L5.07922 5.07002V5.06902ZM11.9992 7.24902C12.1981 7.24902 12.3889 7.32804 12.5296 7.46869C12.6702 7.60934 12.7492 7.80011 12.7492 7.99902V11.689L15.0302 13.969C15.1019 14.0382 15.1591 14.1209 15.1984 14.2124C15.2378 14.3039 15.2585 14.4023 15.2594 14.5019C15.2603 14.6014 15.2414 14.7002 15.2037 14.7924C15.1661 14.8846 15.1104 14.9684 15.04 15.0388C14.9696 15.1093 14.8859 15.165 14.7938 15.2027C14.7016 15.2405 14.6029 15.2595 14.5033 15.2587C14.4037 15.2579 14.3053 15.2372 14.2137 15.198C14.1222 15.1587 14.0394 15.1016 13.9702 15.03L11.2502 12.31V8.00002C11.2502 7.80111 11.3292 7.61034 11.4699 7.46969C11.6105 7.32904 11.8013 7.25002 12.0002 7.25002L11.9992 7.24902Z"
                                                            fill="currentColor" />
                                                    </svg>

                                                    History
                                                </a>
                                            </li>
                                            <li>
                                                <a class="{{ 'active' if request.path == url_for('settings') }}">
                                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                                        xmlns="http://www.w3.org/2000/svg">
                                                        <path
                                                            d="M10.9699 8.265C10.7604 8.40902 10.5924 8.60559 10.4829 8.835C10.3899 9.00564 10.2344 9.13355 10.049 9.19178C9.86359 9.25001 9.66284 9.23402 9.48901 9.14717C9.31518 9.06032 9.18185 8.9094 9.11709 8.72619C9.05233 8.54298 9.06121 8.34179 9.14185 8.165C9.34185 7.763 9.65485 7.339 10.1389 7.017C10.6269 6.69 11.2439 6.5 11.9999 6.5C12.6579 6.5 13.3689 6.695 13.9339 7.119C14.2488 7.34926 14.5043 7.65142 14.6789 8.00034C14.8536 8.34926 14.9423 8.73484 14.9379 9.125C14.9379 10.158 14.4249 10.845 13.9109 11.34C13.7209 11.523 13.5119 11.698 13.3319 11.848L13.1849 11.971C13.0306 12.0972 12.8853 12.2338 12.7499 12.38V13.75C12.7499 13.9489 12.6708 14.1397 12.5302 14.2803C12.3895 14.421 12.1988 14.5 11.9999 14.5C11.8009 14.5 11.6102 14.421 11.4695 14.2803C11.3289 14.1397 11.2499 13.9489 11.2499 13.75V12.277C11.2499 12.04 11.3169 11.773 11.4969 11.541C11.7169 11.261 11.9829 11.024 12.2149 10.827L12.3979 10.674L12.3989 10.673C12.5709 10.53 12.7229 10.403 12.8689 10.261C13.2369 9.906 13.4379 9.585 13.4379 9.125C13.4423 8.96775 13.4077 8.81184 13.3372 8.6712C13.2667 8.53056 13.1625 8.40956 13.0339 8.319C12.7659 8.118 12.3839 8 11.9999 8C11.5059 8 11.1859 8.121 10.9699 8.265ZM12.9999 17C12.9999 17.2652 12.8945 17.5196 12.707 17.7071C12.5194 17.8946 12.2651 18 11.9999 18C11.7346 18 11.4803 17.8946 11.2927 17.7071C11.1052 17.5196 10.9999 17.2652 10.9999 17C10.9999 16.7348 11.1052 16.4804 11.2927 16.2929C11.4803 16.1054 11.7346 16 11.9999 16C12.2651 16 12.5194 16.1054 12.707 16.2929C12.8945 16.4804 12.9999 16.7348 12.9999 17Z"
                                                            fill="currentColor" />
                                                        <path
                                                            d="M12 1C18.075 1 23 5.925 23 12C23 18.075 18.075 23 12 23C5.925 23 1 18.075 1 12C1 5.925 5.925 1 12 1ZM2.5 12C2.5 14.5196 3.50089 16.9359 5.28249 18.7175C7.06408 20.4991 9.48044 21.5 12 21.5C14.5196 21.5 16.9359 20.4991 18.7175 18.7175C20.4991 16.9359 21.5 14.5196 21.5 12C21.5 9.48044 20.4991 7.06408 18.7175 5.28249C16.9359 3.50089 14.5196 2.5 12 2.5C9.48044 2.5 7.06408 3.50089 5.28249 5.28249C3.50089 7.06408 2.5 9.48044 2.5 12Z"
                                                            fill="currentColor" />
                                                    </svg>

                                                    FAQs
                                                </a>
                                            </li>
                                            <li>
                                                <a class="{{ 'active' if request.path == url_for('settings') }}">
                                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                                        xmlns="http://www.w3.org/2000/svg">
                                                        <path fill-rule="evenodd" clip-rule="evenodd"
                                                            d="M12 8.25C11.0054 8.25 10.0516 8.64509 9.34835 9.34835C8.64509 10.0516 8.25 11.0054 8.25 12C8.25 12.9946 8.64509 13.9484 9.34835 14.6517C10.0516 15.3549 11.0054 15.75 12 15.75C12.9946 15.75 13.9484 15.3549 14.6517 14.6517C15.3549 13.9484 15.75 12.9946 15.75 12C15.75 11.0054 15.3549 10.0516 14.6517 9.34835C13.9484 8.64509 12.9946 8.25 12 8.25ZM9.75 12C9.75 11.4033 9.98705 10.831 10.409 10.409C10.831 9.98705 11.4033 9.75 12 9.75C12.5967 9.75 13.169 9.98705 13.591 10.409C14.0129 10.831 14.25 11.4033 14.25 12C14.25 12.5967 14.0129 13.169 13.591 13.591C13.169 14.0129 12.5967 14.25 12 14.25C11.4033 14.25 10.831 14.0129 10.409 13.591C9.98705 13.169 9.75 12.5967 9.75 12Z"
                                                            fill="currentColor" />
                                                        <path fill-rule="evenodd" clip-rule="evenodd"
                                                            d="M11.9748 1.25C11.5298 1.25 11.1588 1.25 10.8548 1.27C10.544 1.28294 10.2376 1.34714 9.94777 1.46C9.61402 1.59809 9.31075 1.80057 9.05526 2.05589C8.79978 2.3112 8.59709 2.61434 8.45877 2.948C8.31377 3.298 8.27477 3.668 8.25877 4.07C8.25717 4.21702 8.21826 4.36123 8.14567 4.48909C8.07308 4.61695 7.9692 4.72428 7.84377 4.801C7.71466 4.8715 7.56974 4.90803 7.42263 4.90716C7.27552 4.90628 7.13104 4.86803 7.00277 4.796C6.64677 4.608 6.30678 4.457 5.93078 4.407C5.57272 4.3599 5.20889 4.38379 4.86007 4.4773C4.51125 4.57081 4.18426 4.73212 3.89777 4.952C3.65555 5.14688 3.44709 5.38034 3.28077 5.643C3.11077 5.897 2.92477 6.218 2.70277 6.603L2.67777 6.647C2.45477 7.032 2.26977 7.353 2.13577 7.627C1.99577 7.913 1.88577 8.195 1.84577 8.507C1.75038 9.22999 1.94605 9.96127 2.38977 10.54C2.62077 10.841 2.92177 11.06 3.26177 11.274C3.38853 11.3489 3.49415 11.4549 3.56867 11.5819C3.64319 11.7089 3.68418 11.8528 3.68777 12C3.68418 12.1472 3.64319 12.2911 3.56867 12.4181C3.49415 12.5451 3.38853 12.6511 3.26177 12.726C2.92177 12.94 2.62177 13.159 2.38977 13.46C2.16989 13.7465 2.00859 14.0735 1.91508 14.4223C1.82157 14.7711 1.79768 15.1349 1.84477 15.493C1.88577 15.805 1.99477 16.087 2.13477 16.373C2.26977 16.647 2.45477 16.968 2.67777 17.353L2.70277 17.397C2.92477 17.782 3.11077 18.103 3.28077 18.357C3.45777 18.62 3.64777 18.857 3.89777 19.047C4.18418 19.2671 4.51114 19.4285 4.85996 19.5222C5.20879 19.6159 5.57265 19.64 5.93078 19.593C6.30678 19.543 6.64677 19.393 7.00277 19.204C7.13089 19.1321 7.27519 19.0939 7.42213 19.093C7.56906 19.0921 7.71381 19.1286 7.84277 19.199C7.96889 19.2751 8.07343 19.3823 8.14642 19.5102C8.21941 19.6382 8.25844 19.7827 8.25978 19.93C8.27478 20.332 8.31378 20.702 8.45977 21.052C8.59786 21.3857 8.80035 21.689 9.05566 21.9445C9.31098 22.2 9.61412 22.4027 9.94777 22.541C10.2378 22.661 10.5378 22.708 10.8548 22.729C11.1588 22.75 11.5298 22.75 11.9748 22.75H12.0248C12.4698 22.75 12.8408 22.75 13.1448 22.73C13.4628 22.708 13.7618 22.661 14.0518 22.54C14.3855 22.4019 14.6888 22.1994 14.9443 21.9441C15.1998 21.6888 15.4025 21.3857 15.5408 21.052C15.6858 20.702 15.7248 20.332 15.7408 19.93C15.7422 19.7828 15.781 19.6384 15.8536 19.5103C15.9262 19.3823 16.0302 19.2748 16.1558 19.198C16.285 19.1276 16.4299 19.0913 16.577 19.0923C16.7242 19.0934 16.8686 19.1318 16.9968 19.204C17.3528 19.392 17.6928 19.543 18.0688 19.592C18.7918 19.6874 19.523 19.4917 20.1018 19.048C20.3518 18.856 20.5418 18.62 20.7188 18.357C20.8888 18.103 21.0748 17.782 21.2968 17.397L21.3218 17.353C21.5448 16.968 21.7298 16.647 21.8638 16.373C22.0038 16.087 22.1138 15.804 22.1538 15.493C22.2492 14.77 22.0535 14.0387 21.6098 13.46C21.3788 13.159 21.0778 12.94 20.7378 12.726C20.611 12.6511 20.5054 12.5451 20.4309 12.4181C20.3564 12.2911 20.3154 12.1472 20.3118 12C20.3118 11.722 20.4638 11.446 20.7378 11.274C21.0778 11.06 21.3778 10.841 21.6098 10.54C21.8297 10.2535 21.991 9.92653 22.0845 9.5777C22.178 9.22888 22.2019 8.86506 22.1548 8.507C22.1072 8.19971 22.0092 7.90238 21.8648 7.627C21.694 7.29475 21.513 6.96792 21.3218 6.647L21.2968 6.603C21.1141 6.27709 20.9213 5.95693 20.7188 5.643C20.5525 5.38062 20.344 5.14749 20.1018 4.953C19.8154 4.73294 19.4884 4.57146 19.1396 4.47778C18.7908 4.38409 18.4269 4.36004 18.0688 4.407C17.6928 4.457 17.3528 4.607 16.9968 4.796C16.8686 4.86786 16.7243 4.90601 16.5774 4.90688C16.4305 4.90776 16.2858 4.87132 16.1568 4.801C16.031 4.72452 15.9267 4.6173 15.8538 4.48942C15.7808 4.36154 15.7416 4.21721 15.7398 4.07C15.7248 3.668 15.6858 3.298 15.5398 2.948C15.4017 2.61425 15.1992 2.31097 14.9439 2.05549C14.6886 1.8 14.3854 1.59731 14.0518 1.459C13.7618 1.339 13.4618 1.292 13.1448 1.271C12.8408 1.25 12.4698 1.25 12.0248 1.25H11.9748ZM10.5218 2.845C10.5988 2.813 10.7158 2.784 10.9568 2.767C11.2038 2.75 11.5238 2.75 11.9998 2.75C12.4758 2.75 12.7958 2.75 13.0428 2.767C13.2838 2.784 13.4008 2.813 13.4778 2.845C13.7848 2.972 14.0278 3.215 14.1548 3.522C14.1948 3.618 14.2278 3.769 14.2408 4.126C14.2708 4.918 14.6798 5.681 15.4058 6.1C16.1318 6.52 16.9968 6.492 17.6978 6.122C18.0138 5.955 18.1608 5.908 18.2648 5.895C18.5933 5.85158 18.9257 5.94043 19.1888 6.142C19.2548 6.193 19.3388 6.28 19.4738 6.48C19.6128 6.686 19.7728 6.963 20.0108 7.375C20.2488 7.787 20.4078 8.065 20.5168 8.287C20.6238 8.504 20.6568 8.62 20.6668 8.703C20.7102 9.03157 20.6213 9.36392 20.4198 9.627C20.3558 9.71 20.2418 9.814 19.9398 10.004C19.2678 10.426 18.8118 11.162 18.8118 12C18.8118 12.838 19.2678 13.574 19.9398 13.996C20.2418 14.186 20.3558 14.29 20.4198 14.373C20.6218 14.636 20.7098 14.968 20.6668 15.297C20.6568 15.38 20.6228 15.497 20.5168 15.713C20.4078 15.936 20.2488 16.213 20.0108 16.625C19.7728 17.037 19.6118 17.314 19.4738 17.52C19.3388 17.72 19.2548 17.807 19.1888 17.858C18.9257 18.0596 18.5933 18.1484 18.2648 18.105C18.1608 18.092 18.0148 18.045 17.6978 17.878C16.9978 17.508 16.1318 17.48 15.4058 17.899C14.6798 18.319 14.2708 19.082 14.2408 19.874C14.2278 20.231 14.1948 20.382 14.1548 20.478C14.092 20.6298 13.9998 20.7677 13.8837 20.8839C13.7675 21.0001 13.6296 21.0922 13.4778 21.155C13.4008 21.187 13.2838 21.216 13.0428 21.233C12.7958 21.25 12.4758 21.25 11.9998 21.25C11.5238 21.25 11.2038 21.25 10.9568 21.233C10.7158 21.216 10.5988 21.187 10.5218 21.155C10.37 21.0922 10.2321 21.0001 10.1159 20.8839C9.99972 20.7677 9.9076 20.6298 9.84478 20.478C9.80478 20.382 9.77177 20.231 9.75877 19.874C9.72877 19.082 9.31977 18.319 8.59377 17.9C7.86777 17.48 7.00278 17.508 6.30177 17.878C5.98577 18.045 5.83878 18.092 5.73478 18.105C5.40621 18.1484 5.07385 18.0596 4.81077 17.858C4.74477 17.807 4.66077 17.72 4.52577 17.52C4.33769 17.2272 4.1586 16.9287 3.98878 16.625C3.75077 16.213 3.59177 15.935 3.48277 15.713C3.37577 15.496 3.34277 15.38 3.33277 15.297C3.28936 14.9684 3.3782 14.6361 3.57977 14.373C3.64377 14.29 3.75777 14.186 4.05977 13.996C4.73177 13.574 5.18778 12.838 5.18778 12C5.18778 11.162 4.73177 10.426 4.05977 10.004C3.75777 9.814 3.64377 9.71 3.57977 9.627C3.3782 9.36392 3.28936 9.03157 3.33277 8.703C3.34277 8.62 3.37677 8.503 3.48277 8.287C3.59177 8.064 3.75077 7.787 3.98878 7.375C4.22677 6.963 4.38777 6.686 4.52577 6.48C4.66077 6.28 4.74477 6.193 4.81077 6.142C5.07385 5.94043 5.40621 5.85158 5.73478 5.895C5.83878 5.908 5.98478 5.955 6.30177 6.122C7.00177 6.492 7.86777 6.52 8.59377 6.1C9.31977 5.681 9.72877 4.918 9.75877 4.126C9.77177 3.769 9.80478 3.618 9.84478 3.522C9.97178 3.215 10.2148 2.972 10.5218 2.845Z"
                                                            fill="currentColor" />
                                                    </svg>

                                                    Settings
                                                </a>
                                            </li>

                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <div class="flex flex-col pt-2 empty:hidden dark:border-white/20">
                                <div class="flex w-full items-center">
                                    <div class="grow">
                                        <div class="group relative menu menu-lg  w-80 min-h-full  text-base-content"
                                            data-headlessui-state="">
                                            <li class="">
                                                <a>
                                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none"
                                                        viewBox="0 0 24 24" stroke="currentColor">
                                                        <path stroke-linecap="round" stroke-linejoin="round"
                                                            stroke-width="2"
                                                            d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
                                                    </svg>
                                                    Sign out
                                                </a>
                                            </li>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="relative flex h-full max-w-full flex-1 flex-col overflow-hidden bg-primary-content md:pr-4">
        <main class="relative h-full w-full flex-1 overflow-auto transition-width bg-base-100 md:my-4 rounded-lg">
            <div role="presentation" class="flex h-full flex-col">
                <div id="messagesContainer" class="flex-1 overflow-hidden overflow-y-scroll">
                    <div class="h-full">
                        <div class="react-scroll-to-bottom--css-nrcee-1n7m0yu">
                            <div class="flex flex-col pb-9 text-sm">
                                <div class="w-full text-token-text-primary" data-testid="conversation-turn-3">
                                    <div class="px-4 py-2 justify-center text-base md:gap-6 m-auto">
                                        <div class="">
                                            <div id="messages"
                                                class="rounded-2xl overflow-y-scroll h-full scrollbar-thumb-blue scrollbar-thumb-rounded scrollbar-track-blue-lighter scrollbar-w-2 scrolling-touch">
                                                <div class="container m-auto">
                                                    <div class="flex flex-col space-y-4 p-3  w-full h-full"
                                                        x-show="messages.length > 0">
                                                        <template x-for="(message, key) in messages">
                                                            <div>
                                                                <div class="mb-2 flex flex-col w-full gap-6">
                                                                    <div class="flex flex-row gap-4 items-center">
                                                                        <img class="rounded-full w-12 h-12 p-2"
                                                                            :class="message.from=='bot'?'bg-primary':'bg-neutral-content'"
                                                                            :src="message.from=='bot'?'/static/images/logo_small.png':'/static/images/user.png'"
                                                                            alt="">
                                                                        <span
                                                                            x-html="message.from=='bot'?'Mura AI':'You'"
                                                                            class="text-2xl font-normal"></span>
                                                                    </div>
                                                                    <p x-html="message.text" class="text-xl font-[300]">
                                                                    </p>
                                                                </div>
                                                            </div>
                                                        </template>
                                                        <div x-show="botTyping" style="display: none;">
                                                            <div class="flex items-end">
                                                                <div
                                                                    class="flex flex-col space-y-2 text-md leading-tight mx-2 order-2 items-start">
                                                                    <div><img
                                                                            src="https://support.signal.org/hc/article_attachments/360016877511/typing-animation-3x.gif"
                                                                            alt="..." class="w-16 ml-6"></div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="flex w-full h-full" x-show="messages.length === 0">
                                                        <div class="w-full">
                                                            <div class="mt-6">
                                                                <h1 class="text-5xl font-bold">Hello, AGI 👋🏽</h1>
                                                            </div>
                                                            <div
                                                                class="flex flex-col justify-center items-center gap-4 mb-8">
                                                                <img src="/static/images/Vector.png" alt="">
                                                                <h2 class="text-2xl font-medium">Ask Mura your
                                                                    health-related questions 😊</h2>
                                                            </div>
                                                            <div class="flex flex-row flex-wrap justify-between gap-6">
                                                                {% for item in items %}
                                                                <div
                                                                    class="flex flex-col gap-2 card flex-1 bg-base-100 shadow-xl">
                                                                    <div class="card-body">
                                                                        <h2 class="card-title">{{ item['title'] }}</h2>
                                                                        <p>{{ item['description'] }}</p>
                                                                    </div>
                                                                </div>
                                                                {% endfor %}
                                                            </div>
                                                            <div class="flex flex-row flex-wrap w-full py-8 gap-4">
                                                                <div class="flex flex-col gap-6 flex-1">
                                                                    <div
                                                                        class="p-4 bg-primary text-primary-content rounded-lg">
                                                                        <div class="flex flex-row gap-2 items-center">
                                                                            <h1 class="text-xl mb-2 font-bold ">Symptom Checker
                                                                            </h1>
                                                                            <svg width="24" height="24"
                                                                                viewBox="0 0 24 24" fill="none"
                                                                                xmlns="http://www.w3.org/2000/svg">
                                                                                <path
                                                                                    d="M13.1025 19.1475C12.9972 19.042 12.938 18.8991 12.938 18.75C12.938 18.6009 12.9972 18.458 13.1025 18.3525L18.8916 12.5625H3.75001C3.60082 12.5625 3.45775 12.5032 3.35226 12.3978C3.24677 12.2923 3.18751 12.1492 3.18751 12C3.18751 11.8508 3.24677 11.7077 3.35226 11.6023C3.45775 11.4968 3.60082 11.4375 3.75001 11.4375H18.8916L13.1025 5.64751C13.0031 5.54088 12.9491 5.39984 12.9516 5.25411C12.9542 5.10839 13.0132 4.96935 13.1163 4.86629C13.2194 4.76323 13.3584 4.7042 13.5041 4.70163C13.6498 4.69905 13.7909 4.75315 13.8975 4.85251L20.6475 11.6025C20.7528 11.708 20.812 11.8509 20.812 12C20.812 12.1491 20.7528 12.292 20.6475 12.3975L13.8975 19.1475C13.792 19.2528 13.6491 19.312 13.5 19.312C13.3509 19.312 13.208 19.2528 13.1025 19.1475Z"
                                                                                    fill="white" />
                                                                            </svg>

                                                                        </div>

                                                                        <p>Input symptoms and receive insights on
                                                                            possible conditions.</p>
                                                                    </div>
                                                                    <div
                                                                        class="p-4 bg-primary text-primary-content rounded-lg">
                                                                        <div class="flex flex-row gap-2 items-center">
                                                                            <h1 class="text-xl mb-2 font-bold ">Mental Wellness
                                                                                Support
                                                                            </h1> <svg width="24" height="24"
                                                                                viewBox="0 0 24 24" fill="none"
                                                                                xmlns="http://www.w3.org/2000/svg">
                                                                                <path
                                                                                    d="M13.1025 19.1475C12.9972 19.042 12.938 18.8991 12.938 18.75C12.938 18.6009 12.9972 18.458 13.1025 18.3525L18.8916 12.5625H3.75001C3.60082 12.5625 3.45775 12.5032 3.35226 12.3978C3.24677 12.2923 3.18751 12.1492 3.18751 12C3.18751 11.8508 3.24677 11.7077 3.35226 11.6023C3.45775 11.4968 3.60082 11.4375 3.75001 11.4375H18.8916L13.1025 5.64751C13.0031 5.54088 12.9491 5.39984 12.9516 5.25411C12.9542 5.10839 13.0132 4.96935 13.1163 4.86629C13.2194 4.76323 13.3584 4.7042 13.5041 4.70163C13.6498 4.69905 13.7909 4.75315 13.8975 4.85251L20.6475 11.6025C20.7528 11.708 20.812 11.8509 20.812 12C20.812 12.1491 20.7528 12.292 20.6475 12.3975L13.8975 19.1475C13.792 19.2528 13.6491 19.312 13.5 19.312C13.3509 19.312 13.208 19.2528 13.1025 19.1475Z"
                                                                                    fill="white" />
                                                                            </svg>

                                                                        </div>

                                                                        <p>Easy-to-follow mental health exercises and
                                                                            stress-relief tips</p>
                                                                    </div>
                                                                </div>
                                                                <div
                                                                    class="p-4 bg-primary text-primary-content rounded-lg md:w-1/3">
                                                                    <div class="flex flex-row gap-2 items-center">
                                                                        <h1 class="text-xl font-bold mb-2">Daily Tips</h1> <svg
                                                                            width="24" height="24" viewBox="0 0 24 24"
                                                                            fill="none"
                                                                            xmlns="http://www.w3.org/2000/svg">
                                                                            <svg width="24" height="24"
                                                                                viewBox="0 0 24 24" fill="none"
                                                                                xmlns="http://www.w3.org/2000/svg">
                                                                                <g clip-path="url(#clip0_32_3497)">
                                                                                    <path fill-rule="evenodd"
                                                                                        clip-rule="evenodd"
                                                                                        d="M16.8429 1.09371C17.1566 -0.339431 19.1983 -0.348002 19.5258 1.08343L19.5395 1.15028L19.5703 1.284C19.9475 2.88514 21.2435 4.10743 22.8652 4.39028C24.3601 4.65086 24.3601 6.79714 22.8652 7.05771C22.0677 7.19651 21.3291 7.56784 20.7419 8.12507C20.1548 8.6823 19.7454 9.40058 19.5652 10.1897L19.5241 10.3646C19.1983 11.796 17.1583 11.7874 16.8429 10.3543L16.8103 10.2034C16.6373 9.41119 16.2321 8.68849 15.6464 8.12759C15.0608 7.56668 14.3213 7.19302 13.5223 7.05428C12.0309 6.79543 12.0309 4.65257 13.5223 4.39371C14.3184 4.25556 15.0556 3.88414 15.6403 3.32656C16.225 2.76897 16.6311 2.05033 16.8069 1.26171L16.8309 1.14857L16.8429 1.09371ZM18.0892 13.296C17.2724 13.2801 16.4917 12.9562 15.9035 12.3891C15.7742 12.4744 15.6615 12.5824 15.5709 12.708C14.7995 13.7297 13.8961 14.7737 12.8743 15.7937C12.0995 16.5686 11.3143 17.2731 10.5395 17.9023C9.76463 17.2731 8.97949 16.5686 8.20463 15.7937C7.46216 15.0527 6.75837 14.274 6.09606 13.4606C6.7252 12.684 7.43149 11.9006 8.20463 11.1257C9.16998 10.157 10.201 9.25599 11.2903 8.42914C11.4041 8.34765 11.5037 8.24804 11.5852 8.13428C11.2593 7.83715 10.9982 7.47597 10.8183 7.07334C10.6384 6.6707 10.5435 6.23528 10.5395 5.79428C8.85777 4.61657 7.19491 3.744 5.71034 3.28971C4.10234 2.79771 2.21663 2.66571 0.980629 3.9C0.180058 4.70228 -0.0376567 5.79257 0.0240575 6.82971C0.0857718 7.86857 0.433772 9.01028 0.960058 10.1691C1.49693 11.3222 2.13787 12.4239 2.87491 13.4606C2.13805 14.4961 1.49711 15.5967 0.960058 16.7486C0.433772 17.9074 0.0857718 19.0491 0.0240575 20.088C-0.0376567 21.1251 0.178343 22.2154 0.980629 23.0177C1.78291 23.8183 2.8732 24.036 3.91034 23.9743C4.94749 23.9109 6.09092 23.5646 7.24977 23.0383C8.29549 22.5634 9.40806 21.9154 10.5412 21.1234C11.6726 21.9154 12.7835 22.5634 13.8309 23.0383C14.9881 23.5646 16.1315 23.9126 17.1703 23.9743C18.2075 24.036 19.2961 23.8183 20.0983 23.016C21.3343 21.7817 21.2023 19.896 20.7103 18.288C20.2406 16.7554 19.3269 15.0326 18.0892 13.296ZM4.95777 5.748C5.9452 6.04971 7.12292 6.62228 8.39834 7.452C7.00583 8.63345 5.71237 9.92692 4.53091 11.3194C4.06664 10.6125 3.65523 9.87216 3.30006 9.10457C2.8492 8.11028 2.62806 7.28743 2.59034 6.67543C2.55434 6.06 2.7052 5.81314 2.79949 5.71885C2.95377 5.56457 3.52291 5.31085 4.95777 5.748ZM3.30006 17.8149C3.61549 17.1206 4.02863 16.3749 4.53091 15.6C5.71294 16.9926 7.00698 18.286 8.40006 19.4674C7.69369 19.9322 6.95396 20.3442 6.18691 20.7C5.19263 21.1509 4.36977 21.372 3.75777 21.4097C3.14063 21.4457 2.89549 21.2949 2.8012 21.2006C2.70691 21.1063 2.55606 20.8577 2.59206 20.244C2.62977 19.632 2.8492 18.8091 3.30177 17.8149H3.30006ZM14.8938 20.7C14.127 20.3446 13.3878 19.9326 12.6823 19.4674C14.0737 18.2858 15.366 16.9924 16.5463 15.6C17.3743 16.8771 17.9469 18.0549 18.2486 19.0423C18.6875 20.4754 18.4338 21.0463 18.2795 21.2006C18.1835 21.2949 17.9366 21.4457 17.3229 21.408C16.7092 21.3737 15.8881 21.1509 14.8938 20.7ZM8.8252 13.4606C8.8252 13.0059 9.00581 12.5699 9.3273 12.2484C9.64879 11.9269 10.0848 11.7463 10.5395 11.7463C10.9941 11.7463 11.4302 11.9269 11.7517 12.2484C12.0732 12.5699 12.2538 13.0059 12.2538 13.4606C12.2538 13.9152 12.0732 14.3513 11.7517 14.6728C11.4302 14.9942 10.9941 15.1749 10.5395 15.1749C10.0848 15.1749 9.64879 14.9942 9.3273 14.6728C9.00581 14.3513 8.8252 13.9152 8.8252 13.4606Z"
                                                                                        fill="white" />
                                                                                </g>
                                                                                <defs>
                                                                                    <clipPath id="clip0_32_3497">
                                                                                        <rect width="24" height="24"
                                                                                            fill="white" />
                                                                                    </clipPath>
                                                                                </defs>
                                                                            </svg>

                                                                        </svg>

                                                                    </div>
                                                                    <p>Customize your daily nuggets of wellness advice
                                                                        with personalized
                                                                        notifications
                                                                        and
                                                                        timely reminders.</p>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="inputContainer"
                    class="w-full pt-2 md:pt-0 dark:border-white/20 md:border-transparent md:dark:border-transparent md:w-[calc(100%-.5rem)]">
                    <div
                        class="stretch mx-2 flex flex-row gap-3 last:mb-2 md:mx-4 md:last:mb-6 lg:mx-auto lg:max-w-2xl xl:max-w-3xl">
                        <div class="relative flex h-full flex-1 items-stretch md:flex-col">
                            <div class="flex w-full items-center">
                                <div
                                    class="overflow-hidden flex flex-col w-full flex-grow relative border border-token-border-heavy border-black rounded-2xl">
                                    <input x-ref="input" type="text" placeholder="Say something..." autocomplete="off"
                                        @keydown.enter="updateChat($event.target)"
                                        class="m-0 w-full resize-none border-0 bg-transparent py-[10px] pr-10 focus:ring-0 focus-visible:ring-0 dark:bg-transparent md:py-3.5 md:pr-12 placeholder-black/50 pl-3 md:pl-4"
                                        style="max-height: 200px; height: 52px; overflow-y: hidden;" />
                                    <button @click.prevent="updateChat($refs.input)"
                                        class="absolute md:bottom-3 md:right-3 dark:hover:bg-gray-900 dark:disabled:hover:bg-transparent right-2 dark:disabled:bg-white disabled:bg-black disabled:opacity-10 disabled:text-gray-400 enabled:bg-black text-white p-0.5 border border-black rounded-lg dark:border-white dark:bg-white bottom-1.5 transition-colors">
                                        <span> <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32"
                                                fill="currentColor" viewBox="0 0 256 256">
                                                <path
                                                    d="M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z">
                                                </path>
                                            </svg></span></button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="relative px-2 py-2 text-center text-base text-gray-800 md:px-[60px]">
                        MuraAI can make mistakes, kindly cross check important
                        information.</span>
                    </div>
                </div>
            </div>
        </main>
    </div>
</div>
<script>
    function adjustHeight() {
        const element1 = document.getElementById('inputContainer');
        const element2 = document.getElementById('messagesContainer');
        const bottomPosition = element1.getBoundingClientRect().top;
        element2.style.height = bottomPosition + 'px';
    }
    adjustHeight();
    window.addEventListener('resize', adjustHeight);
</script>
{% endblock %}